<!DOCTYPE html>
<html lang="en">
  	<head>
		    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title> :: AsciiDoc</title>
    <meta name="generator" content="Antora 3.1.7">

<link rel="stylesheet" href="../../../../../_/css/site.css">

<link rel="stylesheet" href="../../../../../_/css/vendor/asciidoc.css">

<link rel="stylesheet" href="../../../../../_/css/vendor/extra.css">

<link rel="stylesheet" href="../../../../../_/css/vendor/vs.css">

<link rel="stylesheet" href="../../../../../_/css/vendor/prism-1.29.0-coy.css">


    <link rel="icon" href="../../../../../_/img/favicon.ico" type="image/x-icon">
  	</head>
  	
  	<body class="article">
		<header class="header">
	<nav class="navbar">
    	<div class="navbar-brand">
  			
  			<a class="navbar-item logo" target="_blank" href="">
				<img src="../../../../../_/img/yin-yang-symbol.svg" width="100%" height="50">
			</a>
  			
	            <div id="main" style="place-content: center;">
	                    <input id="search-input" type="text" placeholder="Type for Retrieving...">
		            </div>
		        </section>
    	</div>
    	
    	<div id="topbar-nav" class="navbar-menu">
      		<div class="navbar-end">
				<div class="navbar-item has-dropdown is-hoverable">
          			<div class="navbar-link">Culture</div>
          			<div class="navbar-dropdown is-right">
            			
			            <div class="navbar-item">Traditional Culture</div>
			            
			            <a class="navbar-item" target="_blank" href="../../../../../culture/v0.0.1/index.html">
			            	<span class="icon"><img src="../../../../../_/img/octicons-16.svg"></span>
	              			<span>Culture <small>传统文化</small></span>
			            </a>
        			</div>
    			</div>
    			
				<div class="navbar-item has-dropdown is-hoverable">
          			<div class="navbar-link">Eco</div>
          			
          			<div class="navbar-dropdown is-right">
			            <a class="navbar-item" target="_blank" href="../../../../../multifariousness/v0.0.1/index.html">
			            	<span class="icon"><img src="../../../../../_/img/octicons-16.svg"></span>
	              			<span>Multifariousness <small>五花八门</small></span>
			            </a>

			            <hr class="navbar-divider">
			            <a class="navbar-item" target="_blank" href="../../../../../ai/v0.0.1/index.html">
			            	<span class="icon"><img src="../../../../../_/img/octicons-16.svg"></span>
	              			<span>Artificial Intelligence<small>人工智能</small></span>
			            </a>
			            
			            <hr class="navbar-divider">
			            <a class="navbar-item" target="_blank" href="../../../../../msg/v0.0.1/index.html">
			            	<span class="icon"><img src="../../../../../_/img/octicons-16.svg"></span>
	              			<span>Messaging - Kafka <small>Kafka</small></span>
			            </a>
        			</div>
    			</div>
    			
				<div class="navbar-item has-dropdown is-hoverable">
          			<div class="navbar-link">Experiment</div>
          			
          			<div class="navbar-dropdown is-right">
			            <div class="navbar-item">Quantum Computing</div>
			            
			            <a class="navbar-item" href="#">
			            	<span class="icon"><img src="../../../../../_/img/octicons-16.svg"></span>
	              			<span>QC <small>量子计算...</small></span>
			            </a>
			            
			            <hr class="navbar-divider">
			            <div class="navbar-item">Harmony</div>
			            
			            <a class="navbar-item" href="#">
			            	<span class="icon"><img src="../../../../../_/img/octicons-16.svg"></span>
	              			<span>CangJie <small>预览版内测...</small></span>
			            </a>
        			</div>
    			</div>
      		</div>
    	</div>
	</nav>
</header>
		<div class="body">
	<div class="nav-container" data-component="msg" data-version="v0.0.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../../../index.html">Message</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Kafka</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Broker</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Fundamental</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Fundamental/KafkaEco.html">Kafka Eco</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Fundamental/KafkaTopic.html">Kafka Topic</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Fundamental/KafkaProducer.html">Kafka Producer</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Fundamental/KafkaConsumer.html">Kafka Consumer</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Fundamental/GroupOffset.html">Group Offset</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Fundamental/KafkaBroker.html">Kafka Broker</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Fundamental/TopicReplication.html">Topic Replication</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Fundamental/KafkaKRaft.html">KafkaK Raft</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Cli</span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="4">
    <a class="nav-link" href="TopicCli.html">Topic Cli</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="ProducerCli.html">Producer Cli</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="ConsumerCli.html">Consumer Cli</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="ConsumerInGroupCli.html">Group Cli</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="ConsumerGroupManagementCli.html">Group Management Cli</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="ConnectCli.html">Connect Cli</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Topic</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Topic/ChangeTopicConfig.html">Change Topic Config</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Topic/TopicInternal.html">Topic Internal</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Topic/LogRetention.html">Log Retention</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Topic/UncleanLeaderElection.html">Unclean Leader Election</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Topic/LogCompaction.html">Log Compaction</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Topic/ReplicationFactorPartitionCount.html">Partition Count Factor</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Topic/SendLargeMessage.html">Send Large Message</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Topic/TopicNamingConvention.html">Topic Naming Convention</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Producer</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Producer/ProducerAck.html">Producer Ack</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Producer/ProducerRetry.html">Producer Retry</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Producer/ProducerIdempotent.html">Producer Idempotent</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Producer/MessageCompression.html">Message Compression</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Producer/ProducerBatching.html">Producer Batching</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Producer/ProducerPartitioner.html">Producer Partitioner</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Producer/ProducerRest.html">Producer Rest</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Consumer</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Consumer/DeliverySemantic.html">Delivery Semantic</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Consumer/PollInternalThreadBehavior.html">Thread Behavior</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Consumer/AutoOffsetResetBehavior.html">Auto Offset Reset Behavior</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Consumer/ReadClosestReplica.html">Read Closest Replica</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Consumer/IncrementalRebalanceStaticGroupMembership.html">Rebalance Membership</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Administration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Administration/BrokerClient.html">Broker Client</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Administration/KafkaSecurity.html">Kafka Security</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Administration/MonitoringOperation.html">Monitoring Operation</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Administration/KafkaCluster.html">Kafka Cluster</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Administration/MultiClusterMirrorMaker.html">Multi Cluster MirrorMaker</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Administration/AdvertisedHost.html">Advertised Host</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Programming</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Programming/KafkaProgrammingEntry.html">Kafka Entry</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../Programming/WikimediaKafkaOpensearch.html">Wiki 2 Search</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Message</span>
    <span class="version">v0.0.1</span>
  </div>
  <ul class="components">
    <li class="component">
      <div class="title"><a href="../../../../../ai/v0.0.1/index.html">AI</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../ai/v0.0.1/index.html">v0.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../../../culture/v0.0.1/index.html">Culture</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../culture/v0.0.1/index.html">v0.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <div class="title"><a href="../../../index.html">Message</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../index.html">v0.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../../../multifariousness/v0.0.1/index.html">Multifariousness</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../multifariousness/v0.0.1/index.html">v0.0.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
	<main class="article">
	<div class="toolbar" role="navigation">
	<button class="nav-toggle"></button>
	
		<a href="../../../../../multifariousness/v0.0.1/index.html" 
			class="home-link">
		</a>

	<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../../index.html">Message</a></li>
    <li>Kafka</li>
    <li>Broker</li>
    <li>Cli</li>
    <li><a href="TopicCli.html">Topic Cli</a></li>
  </ul>
</nav>
		</div>
	
	<div class="content">
			<aside class="toc sidebar" 
	data-title="Contents" 
	data-levels="2">
  <div class="toc-menu"></div>
</aside>
			<article class="doc">
<div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_roundup">1. Roundup</a></li>
<li><a href="#_prerequisite">2. Prerequisite</a></li>
<li><a href="#_create_topic">3. Create Topic</a></li>
<li><a href="#_list_topic">4. List Topic</a></li>
<li><a href="#_describe_topic">5. Describe Topic</a></li>
<li><a href="#_increase_topic_partition">6. Increase Topic Partition</a></li>
<li><a href="#_delete_topic">7. Delete Topic</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="_roundup"><a class="anchor" href="#_roundup"></a>1. Roundup</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stripes-even fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-right valign-top">Command Line Interface</th>
<th class="tableblock halign-left valign-top">Memo</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">kafka-topics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kafka Topic Management</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">kafka-console-producer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kafka Producer</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">kafka-console-consumer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kafka Consumer</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">kafka-console-consumer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kafka Consumer in Consumer Group</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">kafka-consumer-groups</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kafka Consumer Group Management</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">connect-standalone</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kafka Connect Cli</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_prerequisite"><a class="anchor" href="#_prerequisite"></a>2. Prerequisite</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">docker exec -it kafka /bin/bash

cd /opt/kafka/bin &amp;&amp; ./kafka-topics.sh --version


docker exec -it kafka /opt/kafka/bin/kafka-console-consumer.sh \
	--bootstrap-server kafka:9092 --topic simple-connect --from-beginning</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_topic"><a class="anchor" href="#_create_topic"></a>3. Create Topic</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>kafka-topics用于创建create，删除delete，描述describe和更改change主题；</p>
</li>
<li>
<p>提供mandatory parameter：</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-right valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Case</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">Host Port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">192.168.0.123:9092</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">Mandatory Parameter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">topic名称，partition数，replication factor</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash"># 主题不建议使用句点period('.')或下划线underscore('_')
./kafka-topics.sh \
	--bootstrap-server 192.168.0.123:9092  \
	--topic first_topic --create \
	--partitions 3 --replication-factor 1</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>kafka-topics.sh --create常见错误：</p>
</li>
<li>
<p>主题名称一定要注意，如空格，无法通过正则："[a-zA-Z0-9\\._\\-]"；</p>
<div class="ulist">
<ul>
<li>
<p>指定的复制因子不能大于拥有的broker数量；可指定任意数量的分区，推荐3；</p>
</li>
<li>
<p>partition和replication factor没默认值，需显式指定；</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://kafka.apache.org/documentation/<mark>topicconfigs" target="_blank" rel="noopener">Kafka Topic Config</a><br>
#--config max.message.bytes=64000</mark></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_list_topic"><a class="anchor" href="#_list_topic"></a>4. List Topic</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">./kafka-topics.sh --bootstrap-server 192.168.0.123:9092 --list</code></pre>
</div>
</div>
<div class="paragraph">
<p>﻿* 此命令会列出内部主题，如 <mark>\__consumer_offsets</mark>；</p>
</div>
<div class="ulist">
<ul>
<li>
<p>不要删除这些主题，可使用 --exclude internal 来排除(隐藏)；</p>
</li>
<li>
<p>根据复制状态过滤主题：</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-right valign-top">Option</th>
<th class="tableblock halign-left valign-top">Memo</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">--at-min-isr-partitions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">若在描述主题时设置，则仅显示isr计数等于配置的最小值的分区</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">--unavailable-partitions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">仅显示其leader不可用的分区</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">--under-min-isr-partitions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">仅显示isr计数小于配置的最小值的分区</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">--under-replicated-partitions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">仅在已复制分区下显示</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_describe_topic"><a class="anchor" href="#_describe_topic"></a>5. Describe Topic</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>可指定逗号分隔的主题列表来描述多个主题，若不指定&#8212;&#8203;topic选项，则描述所有主题；</p>
</li>
<li>
<p>partition Id 和 broker Id很容易混淆；</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">./kafka-topics.sh --bootstrap-server 192.168.0.123:9092 \
	--describe --topic first_topic</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">Topic: first_topic      TopicId: VeA2QbLNShqi06DSFsF1bA PartitionCount: 3       ReplicationFactor: 1    Configs: segment.bytes=1073741824
        Topic: first_topic      Partition: 0    Leader: 1       Replicas: 1     Isr: 1
        Topic: first_topic      Partition: 1    Leader: 1       Replicas: 1     Isr: 1
        Topic: first_topic      Partition: 2    Leader: 1       Replicas: 1     Isr: 1</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Leader：1对分区0，Id为1的broker是Leader；</p>
</li>
<li>
<p>Replica：1表示对分区0，Id为1的broker是一个副本；</p>
</li>
<li>
<p>Isr：1：表示对分区0，Id为1的broker是一个同步副本(Isr)；</p>
</li>
<li>
<p>此命令在Kafka Cluster场景下的结果：</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">Topic: third_topic	TopicId: 84yqCErzTG27J4wv44dkPQ	PartitionCount: 4	ReplicationFactor: 3	Configs: cleanup.policy=delete
Topic: third_topic	Partition: 0	Leader: 2	Replicas: 2,3,1	Isr: 2,3,1
Topic: third_topic	Partition: 1	Leader: 3	Replicas: 3,1,2	Isr: 3,1,2
Topic: third_topic	Partition: 2	Leader: 1	Replicas: 1,2,3	Isr: 1,2,3
Topic: third_topic	Partition: 3	Leader: 2	Replicas: 2,1,3	Isr: 2,1,3</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Leader：2表示对分区0，Id为2的broker是Leader；</p>
</li>
<li>
<p>Replica：2,3,1表示对于分区0，Id为2、3和1的broker是副本；</p>
</li>
<li>
<p>Isr：2,3,1表示对于分区0，Id为2、3和1的broker是ISR中的副本；</p>
</li>
<li>
<p>根据复制状态过滤分区，类似于List Topic：</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-right valign-top">Option</th>
<th class="tableblock halign-left valign-top">Memo</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">--at-min-isr-partitions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">若在描述主题时设置，则仅显示isr计数等于配置的最小值的分区</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">--unavailable-partitions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">仅显示其leader不可用的分区</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">--under-min-isr-partitions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">仅显示isr计数小于配置的最小值的分区</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">--under-replicated-partitions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">仅在已复制分区下显示</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_increase_topic_partition"><a class="anchor" href="#_increase_topic_partition"></a>6. Increase Topic Partition</h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Danger：Increasing Partition</p>
</li>
<li>
<p>若应用依赖于基于key的排序，那增加主题中分区数量是危险操作</p>
</li>
<li>
<p>可创建新主题，并将所有数据复制过来，以便正确的重新分发key；</p>
</li>
<li>
<p>故当用户依赖于基于key的排序时，不建议运行此命令，<br>
因更改分区数会更改key-hashing技术；</p>
</li>
<li>
<p>只能添加分区，不能删除分区；</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash"># 此命令无任何输出

./kafka-topics.sh --bootstrap-server 192.168.0.123:9092 \
	--alter --topic first_topic --partitions 5</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_delete_topic"><a class="anchor" href="#_delete_topic"></a>7. Delete Topic</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>可使用逗号分隔列表来一次性删除多个主题，此操作无任何输出；</p>
</li>
<li>
<p>若未启用主题删除，delete.topic.enable broker，<br>
则该主题被标记未删除，但不会物理删除；</p>
</li>
<li>
<p>删除主题可能耗时，可能先返回空，但实际还未完全删除完；</p>
</li>
<li>
<p>Win用户(非WSL2运行)，不要删除主题，KAFKA-1194会导致Kafka奔溃；</p>
</li>
<li>
<p>要恢复该错误，需手动删除/data/kafka中的主题文件夹；</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">./kafka-topics.sh --bootstrap-server 192.168.0.123:9092 \
	--delete --topic first_topic</code></pre>
</div>
</div>
</div>
</div>
</article>
	</div>
</main>
</div>
		<footer class="footer">
	
	
	
	<div class="footer-thanks">
		Authored in AsciiDoc
		<br /><br />
		Produced by Antora and Asciidoctor
  	</div>
  
	<div class="footer-legal" style="text-align:center">
		Gitee：<a href="https://gitee.com/iRecursion" 
			target="_blank">https://gitee.com/iRecursion</a>
		
		<br /><br />
		
		Github：<a href="https://github.com/iRecursion" 
			target="_blank">https://github.com/iRecursion</a>
	</div>
  
	<div class="footer-thanks" style="text-align:left">
		Copyright © 2024 Elf
		<br /><br />
		<address>
			Mailto：<a href="mailto:2032047511@qq.com">2032047511@qq.com</a>
		</address>
	</div>
	
</footer><script id="site-script" src="../../../../../_/js/site.js" 
	data-ui-root-path="../../../../../_"></script>

<script src="../../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../../.." data-snippet-length="100" data-stylesheet="../../../../../_/css/search.css"></script>
<script async src="../../../../../search-index.js"></script>



<script async src="../../../../../_/js/vendor/prism-1.29.0-coy.js"></script>
  	</body>
</html>
